{"remainingRequest":"/home/farialis/Development/lab3/ejemplo-vue/Pera/perita (copia1)/node_modules/babel-loader/lib/index.js!/home/farialis/Development/lab3/ejemplo-vue/Pera/perita (copia1)/node_modules/vuetify-loader/lib/loader.js??ref--17-0!/home/farialis/Development/lab3/ejemplo-vue/Pera/perita (copia1)/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/farialis/Development/lab3/ejemplo-vue/Pera/perita (copia1)/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/farialis/Development/lab3/ejemplo-vue/Pera/perita (copia1)/src/components/Post/AppPost.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/farialis/Development/lab3/ejemplo-vue/Pera/perita (copia1)/src/components/Post/AppPost.vue","mtime":1593719930774},{"path":"/home/farialis/Development/lab3/ejemplo-vue/Pera/perita (copia1)/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/farialis/Development/lab3/ejemplo-vue/Pera/perita (copia1)/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/farialis/Development/lab3/ejemplo-vue/Pera/perita (copia1)/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/home/farialis/Development/lab3/ejemplo-vue/Pera/perita (copia1)/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/farialis/Development/lab3/ejemplo-vue/Pera/perita (copia1)/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvZmFyaWFsaXMvRGV2ZWxvcG1lbnQvbGFiMy9lamVtcGxvLXZ1ZS9QZXJhL3Blcml0YSAoY29waWExKS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBhcGkgZnJvbSAnLi4vLi4vc2VydmljZXMvYXBpJzsKaW1wb3J0IENvbW1lbnRQYW5lbCBmcm9tICdAL2NvbXBvbmVudHMvQ29tbWVudC9Db21tZW50UGFuZWwudnVlJzsKaW1wb3J0IExpa2VMaXN0IGZyb20gJ0AvY29tcG9uZW50cy9MaWtlL0xpa2VMaXN0LnZ1ZSc7CmltcG9ydCB7IG1kaUNvbW1lbnRNdWx0aXBsZU91dGxpbmUsIG1kaUhlYXJ0LCBtZGlGaWxlRWRpdCB9IGZyb20gJ0BtZGkvanMnOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IFsnaWRVc2VyJywgJ3Bvc3RzJ10sCiAgY29tcG9uZW50czogewogICAgQ29tbWVudFBhbmVsOiBDb21tZW50UGFuZWwsCiAgICBMaWtlTGlzdDogTGlrZUxpc3QKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzdmc6IHsKICAgICAgICBoZWFydDogbWRpSGVhcnQsCiAgICAgICAgY29tbWVudDogbWRpQ29tbWVudE11bHRpcGxlT3V0bGluZSwKICAgICAgICBlZGl0OiBtZGlGaWxlRWRpdAogICAgICB9LAogICAgICBtZXNzYWdlOiB7CiAgICAgICAgYXZhdGFyOiAnR29sZC5wbmcnCiAgICAgIH0sCiAgICAgIHNpemVBdmF0YXI6IDUwLAogICAgICBjb2xvcjogImdyZXkiCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgbGlrZTogZnVuY3Rpb24gbGlrZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGxpa2UsIGxpa2VhZ2c7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gYXBpLmdldFVzZXJMaWtlKF90aGlzLmlkVXNlciwgX3RoaXMucG9zdHMuX2lkKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgbGlrZSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBsaWtlYWdnID0gbGlrZS5kYXRhOwoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzLmNvbG9yID09PSAiZ3JleSIpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxOTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKGxpa2VhZ2cpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpcy5jb2xvciA9ICJyZWQiOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDk7CiAgICAgICAgICAgICAgICByZXR1cm4gYXBpLmNyZWF0ZUxpa2UoX3RoaXMuaWRVc2VyLCBfdGhpcy5wb3N0cy5faWQpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICByZXR1cm4gYXBpLnVwZGF0ZUxpc3RJbnNpZ25pYXMoX3RoaXMuaWRVc2VyLCAnTGlrZScsIDEpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICBpZiAoIShsaWtlYWdnICYmIGxpa2VhZ2cuc3RhdHVzID09PSAnSScpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMuY29sb3IgPSAicmVkIjsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNzsKICAgICAgICAgICAgICAgIHJldHVybiBhcGkudXBkYXRlTGlrZShsaWtlYWdnLmRhdGEuX2lkLCAnQScpOwoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIzOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgICAgICBpZiAoIShfdGhpcy5jb2xvciA9PT0gInJlZCIgJiYgbGlrZWFnZy5zdGF0dXMgPT09ICdBJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpcy5jb2xvciA9ICJncmV5IjsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMzsKICAgICAgICAgICAgICAgIHJldHVybiBhcGkudXBkYXRlTGlrZShsaWtlYWdnLmRhdGEuX2lkLCAnSScpOwoKICAgICAgICAgICAgICBjYXNlIDIzOgogICAgICAgICAgICAgICAgX3RoaXMuJGZvcmNlVXBkYXRlKCk7CgogICAgICAgICAgICAgIGNhc2UgMjQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgdmFsaWRhdGVMaWtlOiBmdW5jdGlvbiB2YWxpZGF0ZUxpa2UoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIGxpa2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBhcGkuZ2V0VXNlckxpa2UoX3RoaXMyLmlkVXNlciwgX3RoaXMyLnBvc3RzLl9pZCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIGxpa2UgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAobGlrZS5kYXRhICE9PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5jb2xvciA9ICJyZWQiOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmNvbG9yID0gImdyZXkiOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnZhbGlkYXRlTGlrZSgpOwogIH0KfTs="},{"version":3,"sources":["AppPost.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA,OAAA,GAAA,MAAA,oBAAA;AAEA,OAAA,YAAA,MAAA,uCAAA;AACA,OAAA,QAAA,MAAA,gCAAA;AACA,SAAA,yBAAA,EAAA,QAAA,EAAA,WAAA,QAAA,SAAA;AAEA,eAAA;AACA,EAAA,KAAA,EAAA,CAAA,QAAA,EAAA,OAAA,CADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,YAAA,EAAA,YADA;AAEA,IAAA,QAAA,EAAA;AAFA,GAFA;AAMA,EAAA,IAAA,EAAA;AAAA,WAAA;AACA,MAAA,GAAA,EAAA;AACA,QAAA,KAAA,EAAA,QADA;AAEA,QAAA,OAAA,EAAA,yBAFA;AAGA,QAAA,IAAA,EAAA;AAHA,OADA;AAMA,MAAA,OAAA,EAAA;AACA,QAAA,MAAA,EAAA;AADA,OANA;AASA,MAAA,UAAA,EAAA,EATA;AAUA,MAAA,KAAA,EAAA;AAVA,KAAA;AAAA,GANA;AAkBA,EAAA,OAAA,EAAA;AACA,IAAA,IADA,kBACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,GAAA,CAAA,WAAA,CAAA,KAAA,CAAA,MAAA,EAAA,KAAA,CAAA,KAAA,CAAA,GAAA,CADA;;AAAA;AACA,gBAAA,IADA;AAEA,gBAAA,OAFA,GAEA,IAAA,CAAA,IAFA;;AAAA,sBAGA,KAAA,CAAA,KAAA,KAAA,MAHA;AAAA;AAAA;AAAA;;AAAA,oBAIA,OAJA;AAAA;AAAA;AAAA;;AAKA,gBAAA,KAAA,CAAA,KAAA,GAAA,KAAA;AALA;AAAA,uBAMA,GAAA,CAAA,UAAA,CAAA,KAAA,CAAA,MAAA,EAAA,KAAA,CAAA,KAAA,CAAA,GAAA,CANA;;AAAA;AAAA;AAAA,uBAOA,GAAA,CAAA,mBAAA,CAAA,KAAA,CAAA,MAAA,EAAA,MAAA,EAAA,CAAA,CAPA;;AAAA;AAAA;AAAA;;AAAA;AAAA,sBAQA,OAAA,IAAA,OAAA,CAAA,MAAA,KAAA,GARA;AAAA;AAAA;AAAA;;AASA,gBAAA,KAAA,CAAA,KAAA,GAAA,KAAA;AATA;AAAA,uBAUA,GAAA,CAAA,UAAA,CAAA,OAAA,CAAA,IAAA,CAAA,GAAA,EAAA,GAAA,CAVA;;AAAA;AAAA;AAAA;;AAAA;AAAA,sBAYA,KAAA,CAAA,KAAA,KAAA,KAAA,IAAA,OAAA,CAAA,MAAA,KAAA,GAZA;AAAA;AAAA;AAAA;;AAaA,gBAAA,KAAA,CAAA,KAAA,GAAA,MAAA;AAbA;AAAA,uBAcA,GAAA,CAAA,UAAA,CAAA,OAAA,CAAA,IAAA,CAAA,GAAA,EAAA,GAAA,CAdA;;AAAA;AAgBA,gBAAA,KAAA,CAAA,YAAA;;AAhBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiBA,KAlBA;AAmBA,IAAA,YAnBA,0BAmBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,GAAA,CAAA,WAAA,CAAA,MAAA,CAAA,MAAA,EAAA,MAAA,CAAA,KAAA,CAAA,GAAA,CADA;;AAAA;AACA,gBAAA,IADA;;AAEA,oBAAA,IAAA,CAAA,IAAA,KAAA,IAAA,EAAA;AACA,kBAAA,MAAA,CAAA,KAAA,GAAA,KAAA;AACA,iBAFA,MAEA;AACA,kBAAA,MAAA,CAAA,KAAA,GAAA,MAAA;AACA;;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AA1BA,GAlBA;AA8CA,EAAA,OA9CA,qBA8CA;AACA,SAAA,YAAA;AACA;AAhDA,CAAA","sourcesContent":["<template>\n  <v-card max-height=\"800\" max-width=\"800\" class=\"mx-auto pa-3\">\n    <!-- -->\n    <v-row align=\"center\" class=\"spacer\" no-gutters>\n      <v-col cols=\"2\" sm=\"2\" md=\"1\">\n        <v-avatar :size=\"sizeAvatar\">\n          <v-img class=\"card-img\" :src=\"this.posts.idUser.image\"></v-img>\n        </v-avatar>\n      </v-col>\n        \n      <v-col>\n        <p></p>\n        <h4>{{this.posts.idUser.firstName}} {{this.posts.idUser.lastName}}</h4>\n        <p></p>\n      </v-col>\n\n      <v-col cols=\"2\">\n        <v-btn elevation=\"0\" small absolute top fab style=\"transform: translateY(35px)\">\n          <v-icon left  color=\"red\">{{svg.edit}}</v-icon>\n        </v-btn>\n        <AppDeleteScream></AppDeleteScream>\n      </v-col>\n    </v-row>\n\n    <!-- -->\n    <v-row>\n      <v-col sm=\"2\">\n        <div align=\"center\">\n          <v-img class=\"card-img\" :src=\"this.posts.imagePost\">hola</v-img>\n        </div>\n        <div>\n          {{this.posts.content}}\n        </div>\n      </v-col>\n    </v-row>\n    <!-- -->\n    <v-row>\n      <v-col cols=\"12\" md=\"8\" class=\"relative\">\n        <v-card-actions>\n          <v-btn color=\"#2c003e\" text small v-on:click=\"like\">\n            <v-icon left  :color=\"color\">{{svg.heart}}</v-icon>\n          </v-btn>\n          <LikeList :id=\"this.posts._id\">\n          </LikeList>\n          <CommentPanel :idUser=\"this.idUser\" :idPost=\"this.posts._id\"></CommentPanel>\n        </v-card-actions>\n      </v-col>\n    </v-row>\n  </v-card>\n</template>\n\n<script>\n\n  import api from '../../services/api'\n\n  import CommentPanel from '@/components/Comment/CommentPanel.vue'\n  import LikeList from '@/components/Like/LikeList.vue'\n  import { mdiCommentMultipleOutline, mdiHeart, mdiFileEdit } from '@mdi/js'\n\n  export default {\n    props: ['idUser', 'posts'],\n    components: {\n      CommentPanel,\n      LikeList\n    },\n    data: () => ({\n      svg: {\n        heart: mdiHeart,\n        comment: mdiCommentMultipleOutline,\n        edit: mdiFileEdit\n      },\n      message: {\n        avatar: 'Gold.png'\n      },\n      sizeAvatar: 50,\n      color: \"grey\"\n    }),\n    methods: {\n      async like() {\n        const like = await api.getUserLike(this.idUser, this.posts._id)\n        const likeagg = like.data\n        if(this.color === \"grey\") {\n          if(!likeagg) {\n            this.color = \"red\"\n            await api.createLike(this.idUser, this.posts._id)\n            await api.updateListInsignias(this.idUser, 'Like', 1)\n          } else if (likeagg && likeagg.status === 'I') {\n            this.color = \"red\"\n            await api.updateLike(likeagg.data._id, 'A')\n          }\n        } else if (this.color === \"red\" && likeagg.status === 'A') {\n          this.color = \"grey\"\n          await api.updateLike(likeagg.data._id, 'I')\n        }\n        this.$forceUpdate()\n      },\n      async validateLike() {\n        const like = await api.getUserLike(this.idUser, this.posts._id)\n        if (like.data !== null) {\n          this.color = \"red\"\n        } else {\n          this.color = \"grey\" \n        }\n      }\n    },\n    created() {\n      this.validateLike()\n    }\n  }\n</script>\n"],"sourceRoot":"src/components/Post"}]}