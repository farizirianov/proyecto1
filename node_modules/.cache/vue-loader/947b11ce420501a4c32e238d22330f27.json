{"remainingRequest":"/home/farialis/Development/lab3/ejemplo-vue/Pera/perita (copia1)/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/farialis/Development/lab3/ejemplo-vue/Pera/perita (copia1)/src/components/Post/AppPost.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/farialis/Development/lab3/ejemplo-vue/Pera/perita (copia1)/src/components/Post/AppPost.vue","mtime":1593719930774},{"path":"/home/farialis/Development/lab3/ejemplo-vue/Pera/perita (copia1)/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/farialis/Development/lab3/ejemplo-vue/Pera/perita (copia1)/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/farialis/Development/lab3/ejemplo-vue/Pera/perita (copia1)/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/home/farialis/Development/lab3/ejemplo-vue/Pera/perita (copia1)/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/farialis/Development/lab3/ejemplo-vue/Pera/perita (copia1)/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgYXBpIGZyb20gJy4uLy4uL3NlcnZpY2VzL2FwaScKCmltcG9ydCBDb21tZW50UGFuZWwgZnJvbSAnQC9jb21wb25lbnRzL0NvbW1lbnQvQ29tbWVudFBhbmVsLnZ1ZScKaW1wb3J0IExpa2VMaXN0IGZyb20gJ0AvY29tcG9uZW50cy9MaWtlL0xpa2VMaXN0LnZ1ZScKaW1wb3J0IHsgbWRpQ29tbWVudE11bHRpcGxlT3V0bGluZSwgbWRpSGVhcnQsIG1kaUZpbGVFZGl0IH0gZnJvbSAnQG1kaS9qcycKCmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogWydpZFVzZXInLCAncG9zdHMnXSwKICBjb21wb25lbnRzOiB7CiAgICBDb21tZW50UGFuZWwsCiAgICBMaWtlTGlzdAogIH0sCiAgZGF0YTogKCkgPT4gKHsKICAgIHN2ZzogewogICAgICBoZWFydDogbWRpSGVhcnQsCiAgICAgIGNvbW1lbnQ6IG1kaUNvbW1lbnRNdWx0aXBsZU91dGxpbmUsCiAgICAgIGVkaXQ6IG1kaUZpbGVFZGl0CiAgICB9LAogICAgbWVzc2FnZTogewogICAgICBhdmF0YXI6ICdHb2xkLnBuZycKICAgIH0sCiAgICBzaXplQXZhdGFyOiA1MCwKICAgIGNvbG9yOiAiZ3JleSIKICB9KSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBsaWtlKCkgewogICAgICBjb25zdCBsaWtlID0gYXdhaXQgYXBpLmdldFVzZXJMaWtlKHRoaXMuaWRVc2VyLCB0aGlzLnBvc3RzLl9pZCkKICAgICAgY29uc3QgbGlrZWFnZyA9IGxpa2UuZGF0YQogICAgICBpZih0aGlzLmNvbG9yID09PSAiZ3JleSIpIHsKICAgICAgICBpZighbGlrZWFnZykgewogICAgICAgICAgdGhpcy5jb2xvciA9ICJyZWQiCiAgICAgICAgICBhd2FpdCBhcGkuY3JlYXRlTGlrZSh0aGlzLmlkVXNlciwgdGhpcy5wb3N0cy5faWQpCiAgICAgICAgICBhd2FpdCBhcGkudXBkYXRlTGlzdEluc2lnbmlhcyh0aGlzLmlkVXNlciwgJ0xpa2UnLCAxKQogICAgICAgIH0gZWxzZSBpZiAobGlrZWFnZyAmJiBsaWtlYWdnLnN0YXR1cyA9PT0gJ0knKSB7CiAgICAgICAgICB0aGlzLmNvbG9yID0gInJlZCIKICAgICAgICAgIGF3YWl0IGFwaS51cGRhdGVMaWtlKGxpa2VhZ2cuZGF0YS5faWQsICdBJykKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAodGhpcy5jb2xvciA9PT0gInJlZCIgJiYgbGlrZWFnZy5zdGF0dXMgPT09ICdBJykgewogICAgICAgIHRoaXMuY29sb3IgPSAiZ3JleSIKICAgICAgICBhd2FpdCBhcGkudXBkYXRlTGlrZShsaWtlYWdnLmRhdGEuX2lkLCAnSScpCiAgICAgIH0KICAgICAgdGhpcy4kZm9yY2VVcGRhdGUoKQogICAgfSwKICAgIGFzeW5jIHZhbGlkYXRlTGlrZSgpIHsKICAgICAgY29uc3QgbGlrZSA9IGF3YWl0IGFwaS5nZXRVc2VyTGlrZSh0aGlzLmlkVXNlciwgdGhpcy5wb3N0cy5faWQpCiAgICAgIGlmIChsaWtlLmRhdGEgIT09IG51bGwpIHsKICAgICAgICB0aGlzLmNvbG9yID0gInJlZCIKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmNvbG9yID0gImdyZXkiIAogICAgICB9CiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy52YWxpZGF0ZUxpa2UoKQogIH0KfQo="},{"version":3,"sources":["AppPost.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AppPost.vue","sourceRoot":"src/components/Post","sourcesContent":["<template>\n  <v-card max-height=\"800\" max-width=\"800\" class=\"mx-auto pa-3\">\n    <!-- -->\n    <v-row align=\"center\" class=\"spacer\" no-gutters>\n      <v-col cols=\"2\" sm=\"2\" md=\"1\">\n        <v-avatar :size=\"sizeAvatar\">\n          <v-img class=\"card-img\" :src=\"this.posts.idUser.image\"></v-img>\n        </v-avatar>\n      </v-col>\n        \n      <v-col>\n        <p></p>\n        <h4>{{this.posts.idUser.firstName}} {{this.posts.idUser.lastName}}</h4>\n        <p></p>\n      </v-col>\n\n      <v-col cols=\"2\">\n        <v-btn elevation=\"0\" small absolute top fab style=\"transform: translateY(35px)\">\n          <v-icon left  color=\"red\">{{svg.edit}}</v-icon>\n        </v-btn>\n        <AppDeleteScream></AppDeleteScream>\n      </v-col>\n    </v-row>\n\n    <!-- -->\n    <v-row>\n      <v-col sm=\"2\">\n        <div align=\"center\">\n          <v-img class=\"card-img\" :src=\"this.posts.imagePost\">hola</v-img>\n        </div>\n        <div>\n          {{this.posts.content}}\n        </div>\n      </v-col>\n    </v-row>\n    <!-- -->\n    <v-row>\n      <v-col cols=\"12\" md=\"8\" class=\"relative\">\n        <v-card-actions>\n          <v-btn color=\"#2c003e\" text small v-on:click=\"like\">\n            <v-icon left  :color=\"color\">{{svg.heart}}</v-icon>\n          </v-btn>\n          <LikeList :id=\"this.posts._id\">\n          </LikeList>\n          <CommentPanel :idUser=\"this.idUser\" :idPost=\"this.posts._id\"></CommentPanel>\n        </v-card-actions>\n      </v-col>\n    </v-row>\n  </v-card>\n</template>\n\n<script>\n\n  import api from '../../services/api'\n\n  import CommentPanel from '@/components/Comment/CommentPanel.vue'\n  import LikeList from '@/components/Like/LikeList.vue'\n  import { mdiCommentMultipleOutline, mdiHeart, mdiFileEdit } from '@mdi/js'\n\n  export default {\n    props: ['idUser', 'posts'],\n    components: {\n      CommentPanel,\n      LikeList\n    },\n    data: () => ({\n      svg: {\n        heart: mdiHeart,\n        comment: mdiCommentMultipleOutline,\n        edit: mdiFileEdit\n      },\n      message: {\n        avatar: 'Gold.png'\n      },\n      sizeAvatar: 50,\n      color: \"grey\"\n    }),\n    methods: {\n      async like() {\n        const like = await api.getUserLike(this.idUser, this.posts._id)\n        const likeagg = like.data\n        if(this.color === \"grey\") {\n          if(!likeagg) {\n            this.color = \"red\"\n            await api.createLike(this.idUser, this.posts._id)\n            await api.updateListInsignias(this.idUser, 'Like', 1)\n          } else if (likeagg && likeagg.status === 'I') {\n            this.color = \"red\"\n            await api.updateLike(likeagg.data._id, 'A')\n          }\n        } else if (this.color === \"red\" && likeagg.status === 'A') {\n          this.color = \"grey\"\n          await api.updateLike(likeagg.data._id, 'I')\n        }\n        this.$forceUpdate()\n      },\n      async validateLike() {\n        const like = await api.getUserLike(this.idUser, this.posts._id)\n        if (like.data !== null) {\n          this.color = \"red\"\n        } else {\n          this.color = \"grey\" \n        }\n      }\n    },\n    created() {\n      this.validateLike()\n    }\n  }\n</script>\n"]}]}