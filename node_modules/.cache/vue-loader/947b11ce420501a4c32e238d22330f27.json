{"remainingRequest":"/home/farialis/Development/lab3/ejemplo-vue/Pera/perita (copia1)/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/farialis/Development/lab3/ejemplo-vue/Pera/perita (copia1)/src/components/Post/AppPost.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/farialis/Development/lab3/ejemplo-vue/Pera/perita (copia1)/src/components/Post/AppPost.vue","mtime":1593714071846},{"path":"/home/farialis/Development/lab3/ejemplo-vue/Pera/perita (copia1)/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/farialis/Development/lab3/ejemplo-vue/Pera/perita (copia1)/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/farialis/Development/lab3/ejemplo-vue/Pera/perita (copia1)/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/home/farialis/Development/lab3/ejemplo-vue/Pera/perita (copia1)/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/farialis/Development/lab3/ejemplo-vue/Pera/perita (copia1)/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgogIGltcG9ydCBhcGkgZnJvbSAnLi4vLi4vc2VydmljZXMvYXBpJwoKICBpbXBvcnQgQ29tbWVudFBhbmVsIGZyb20gJ0AvY29tcG9uZW50cy9Db21tZW50L0NvbW1lbnRQYW5lbC52dWUnCmltcG9ydCBQb3N0RGVsZXRlIGZyb20gJ0AvY29tcG9uZW50cy9Qb3N0L1Bvc3REZWxldGUnCiAgaW1wb3J0IExpa2VMaXN0IGZyb20gJ0AvY29tcG9uZW50cy9MaWtlL0xpa2VMaXN0LnZ1ZScKICBpbXBvcnQgeyBtZGlDb21tZW50TXVsdGlwbGVPdXRsaW5lLCBtZGlIZWFydCwgbWRpRmlsZUVkaXQsIG1kaURlbGV0ZU91dGxpbmUgfSBmcm9tICdAbWRpL2pzJwoKICBleHBvcnQgZGVmYXVsdCB7CiAgICBwcm9wczogWydpZFVzZXInLCAncG9zdHMnXSwKICAgIGNvbXBvbmVudHM6IHsKICAgICAgQ29tbWVudFBhbmVsLAogICAgICBQb3N0RGVsZXRlLAogICAgICBMaWtlTGlzdAogICAgfSwKICAgIGRhdGE6ICgpID0+ICh7CiAgICAgIHN2ZzogewogICAgICAgIGhlYXJ0OiBtZGlIZWFydCwKICAgICAgICBjb21tZW50OiBtZGlDb21tZW50TXVsdGlwbGVPdXRsaW5lLAogICAgICAgIGVkaXQ6IG1kaUZpbGVFZGl0LAogICAgICAgIGRlbGV0ZTogbWRpRGVsZXRlT3V0bGluZQogICAgICB9LAogICAgICBtZXNzYWdlOiB7CiAgICAgICAgYXZhdGFyOiAnR29sZC5wbmcnCiAgICAgIH0sCiAgICAgIHNpemVBdmF0YXI6IDUwLAogICAgICBjb2xvcjogImdyZXkiCiAgICB9KSwKICAgIG1ldGhvZHM6IHsKICAgICAgYXN5bmMgbGlrZSgpIHsKICAgICAgICBjb25zdCBsaWtlID0gYXdhaXQgYXBpLmdldFVzZXJMaWtlKHRoaXMuaWRVc2VyLCB0aGlzLnBvc3RzLl9pZCkKICAgICAgICBjb25zdCBsaWtlYWdnID0gbGlrZS5kYXRhCiAgICAgICAgaWYodGhpcy5jb2xvciA9PT0gImdyZXkiKSB7CiAgICAgICAgICBpZighbGlrZWFnZykgewogICAgICAgICAgICB0aGlzLmNvbG9yID0gInJlZCIKICAgICAgICAgICAgYXdhaXQgYXBpLmNyZWF0ZUxpa2UodGhpcy5pZFVzZXIsIHRoaXMucG9zdHMuX2lkKQogICAgICAgICAgICBhd2FpdCBhcGkudXBkYXRlTGlzdEluc2lnbmlhcyh0aGlzLmlkVXNlciwgJ0xpa2UnLCAxKQogICAgICAgICAgfSBlbHNlIGlmIChsaWtlYWdnICYmIGxpa2VhZ2cuc3RhdHVzID09PSAnSScpIHsKICAgICAgICAgICAgdGhpcy5jb2xvciA9ICJyZWQiCiAgICAgICAgICAgIGF3YWl0IGFwaS51cGRhdGVMaWtlKGxpa2VhZ2cuZGF0YS5faWQsICdBJykKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY29sb3IgPT09ICJyZWQiICYmIGxpa2VhZ2cuc3RhdHVzID09PSAnQScpIHsKICAgICAgICAgIHRoaXMuY29sb3IgPSAiZ3JleSIKICAgICAgICAgIGF3YWl0IGFwaS51cGRhdGVMaWtlKGxpa2VhZ2cuZGF0YS5faWQsICdJJykKICAgICAgICB9CiAgICAgICAgdGhpcy4kZm9yY2VVcGRhdGUoKQogICAgICB9LAogICAgICBhc3luYyB2YWxpZGF0ZUxpa2UoKSB7CiAgICAgICAgY29uc3QgbGlrZSA9IGF3YWl0IGFwaS5nZXRVc2VyTGlrZSh0aGlzLmlkVXNlciwgdGhpcy5wb3N0cy5faWQpCiAgICAgICAgaWYgKGxpa2UuZGF0YSAhPT0gbnVsbCkgewogICAgICAgICAgdGhpcy5jb2xvciA9ICJyZWQiCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuY29sb3IgPSAiZ3JleSIgCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgY3JlYXRlZCgpIHsKICAgICAgdGhpcy52YWxpZGF0ZUxpa2UoKQogICAgfQogIH0K"},{"version":3,"sources":["AppPost.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AppPost.vue","sourceRoot":"src/components/Post","sourcesContent":["<template>\n  <v-card max-height=\"800\" max-width=\"800\" class=\"mx-auto pa-3\">\n    <!-- -->\n    <v-row align=\"center\" class=\"spacer\" no-gutters>\n      <v-col cols=\"2\" sm=\"2\" md=\"1\">\n        <v-avatar :size=\"sizeAvatar\">\n          <v-img class=\"card-img\" :src=\"this.posts.idUser.image\"></v-img>\n        </v-avatar>\n      </v-col>\n        \n      <v-col>\n        <p></p>\n        <h4>{{this.posts.idUser.firstName}} {{this.posts.idUser.lastName}}</h4>\n        <p></p>\n      </v-col>\n\n      <v-col cols=\"2\">\n        <v-btn elevation=\"0\" small absolute top fab style=\"transform: translateY(35px)\">\n          <v-icon left  color=\"red\">{{svg.delete}}</v-icon>\n        </v-btn>\n        <PostDelete></PostDelete>\n      </v-col>\n    </v-row>\n\n    <!-- -->\n    <v-row>\n      <v-col sm=\"2\">\n        <div align=\"center\">\n          <v-img class=\"card-img\" :src=\"this.posts.imagePost\">hola</v-img>\n        </div>\n        <div>\n          {{this.posts.content}}\n        </div>\n      </v-col>\n    </v-row>\n    <!-- -->\n    <v-row>\n      <v-col cols=\"12\" md=\"8\" class=\"relative\">\n        <v-card-actions>\n          <v-btn color=\"#2c003e\" text small v-on:click=\"like\">\n            <v-icon left  :color=\"color\">{{svg.heart}}</v-icon>\n          </v-btn>\n          <LikeList :id=\"this.posts._id\">\n          </LikeList>\n          <CommentPanel :idUser=\"this.idUser\" :idPost=\"this.posts._id\"></CommentPanel>\n        </v-card-actions>\n      </v-col>\n    </v-row>\n  </v-card>\n</template>\n\n<script>\n\n  import api from '../../services/api'\n\n  import CommentPanel from '@/components/Comment/CommentPanel.vue'\nimport PostDelete from '@/components/Post/PostDelete'\n  import LikeList from '@/components/Like/LikeList.vue'\n  import { mdiCommentMultipleOutline, mdiHeart, mdiFileEdit, mdiDeleteOutline } from '@mdi/js'\n\n  export default {\n    props: ['idUser', 'posts'],\n    components: {\n      CommentPanel,\n      PostDelete,\n      LikeList\n    },\n    data: () => ({\n      svg: {\n        heart: mdiHeart,\n        comment: mdiCommentMultipleOutline,\n        edit: mdiFileEdit,\n        delete: mdiDeleteOutline\n      },\n      message: {\n        avatar: 'Gold.png'\n      },\n      sizeAvatar: 50,\n      color: \"grey\"\n    }),\n    methods: {\n      async like() {\n        const like = await api.getUserLike(this.idUser, this.posts._id)\n        const likeagg = like.data\n        if(this.color === \"grey\") {\n          if(!likeagg) {\n            this.color = \"red\"\n            await api.createLike(this.idUser, this.posts._id)\n            await api.updateListInsignias(this.idUser, 'Like', 1)\n          } else if (likeagg && likeagg.status === 'I') {\n            this.color = \"red\"\n            await api.updateLike(likeagg.data._id, 'A')\n          }\n        } else if (this.color === \"red\" && likeagg.status === 'A') {\n          this.color = \"grey\"\n          await api.updateLike(likeagg.data._id, 'I')\n        }\n        this.$forceUpdate()\n      },\n      async validateLike() {\n        const like = await api.getUserLike(this.idUser, this.posts._id)\n        if (like.data !== null) {\n          this.color = \"red\"\n        } else {\n          this.color = \"grey\" \n        }\n      }\n    },\n    created() {\n      this.validateLike()\n    }\n  }\n</script>\n"]}]}