{"remainingRequest":"/home/farialis/Development/lab3/ejemplo-vue/Pera/perita (copia1)/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/farialis/Development/lab3/ejemplo-vue/Pera/perita (copia1)/src/components/Post/AppPost.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/farialis/Development/lab3/ejemplo-vue/Pera/perita (copia1)/src/components/Post/AppPost.vue","mtime":1593724033802},{"path":"/home/farialis/Development/lab3/ejemplo-vue/Pera/perita (copia1)/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/farialis/Development/lab3/ejemplo-vue/Pera/perita (copia1)/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/farialis/Development/lab3/ejemplo-vue/Pera/perita (copia1)/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/home/farialis/Development/lab3/ejemplo-vue/Pera/perita (copia1)/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/farialis/Development/lab3/ejemplo-vue/Pera/perita (copia1)/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgYXBpIGZyb20gJy4uLy4uL3NlcnZpY2VzL2FwaScKCmltcG9ydCBDb21tZW50UGFuZWwgZnJvbSAnQC9jb21wb25lbnRzL0NvbW1lbnQvQ29tbWVudFBhbmVsLnZ1ZScKaW1wb3J0IFBvc3REZWxldGUgZnJvbSAnQC9jb21wb25lbnRzL1Bvc3QvUG9zdERlbGV0ZS52dWUnCmltcG9ydCBMaWtlTGlzdCBmcm9tICdAL2NvbXBvbmVudHMvTGlrZS9MaWtlTGlzdC52dWUnCmltcG9ydCB7IG1kaUNvbW1lbnRNdWx0aXBsZU91dGxpbmUsIG1kaURlbGV0ZU91dGxpbmUsIG1kaUhlYXJ0LCBtZGlGaWxlRWRpdCB9IGZyb20gJ0BtZGkvanMnCgpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IFsnaWRVc2VyJywgJ3Bvc3RzJ10sCiAgY29tcG9uZW50czogewogICAgQ29tbWVudFBhbmVsLAogICAgUG9zdERlbGV0ZSwKICAgIExpa2VMaXN0CiAgfSwKICBkYXRhOiAoKSA9PiAoewogICAgc3ZnOiB7CiAgICAgIGhlYXJ0OiBtZGlIZWFydCwKICAgICAgY29tbWVudDogbWRpQ29tbWVudE11bHRpcGxlT3V0bGluZSwKICAgICAgZWRpdDogbWRpRmlsZUVkaXQsCiAgICAgIGRlbGV0ZTogbWRpRGVsZXRlT3V0bGluZQogICAgfSwKICAgIG1lc3NhZ2U6IHsKICAgICAgYXZhdGFyOiAnR29sZC5wbmcnCiAgICB9LAogICAgc2l6ZUF2YXRhcjogNTAsCiAgICBjb2xvcjogImdyZXkiCiAgfSksCiAgbWV0aG9kczogewogICAgYXN5bmMgbGlrZSgpIHsKICAgICAgY29uc3QgbGlrZSA9IGF3YWl0IGFwaS5nZXRVc2VyTGlrZSh0aGlzLmlkVXNlciwgdGhpcy5wb3N0cy5faWQpCiAgICAgIGNvbnN0IGxpa2VhZ2cgPSBsaWtlLmRhdGEKICAgICAgaWYodGhpcy5jb2xvciA9PT0gImdyZXkiKSB7CiAgICAgICAgaWYoIWxpa2VhZ2cpIHsKICAgICAgICAgIHRoaXMuY29sb3IgPSAicmVkIgogICAgICAgICAgYXdhaXQgYXBpLmNyZWF0ZUxpa2UodGhpcy5pZFVzZXIsIHRoaXMucG9zdHMuX2lkKQogICAgICAgICAgYXdhaXQgYXBpLnVwZGF0ZUxpc3RJbnNpZ25pYXModGhpcy5pZFVzZXIsICdMaWtlJywgMSkKICAgICAgICB9IGVsc2UgaWYgKGxpa2VhZ2cgJiYgbGlrZWFnZy5zdGF0dXMgPT09ICdJJykgewogICAgICAgICAgdGhpcy5jb2xvciA9ICJyZWQiCiAgICAgICAgICBhd2FpdCBhcGkudXBkYXRlTGlrZShsaWtlYWdnLmRhdGEuX2lkLCAnQScpCiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHRoaXMuY29sb3IgPT09ICJyZWQiICYmIGxpa2VhZ2cuc3RhdHVzID09PSAnQScpIHsKICAgICAgICB0aGlzLmNvbG9yID0gImdyZXkiCiAgICAgICAgYXdhaXQgYXBpLnVwZGF0ZUxpa2UobGlrZWFnZy5kYXRhLl9pZCwgJ0knKQogICAgICB9CiAgICAgIHRoaXMuJGZvcmNlVXBkYXRlKCkKICAgIH0sCiAgICBhc3luYyB2YWxpZGF0ZUxpa2UoKSB7CiAgICAgIGNvbnN0IGxpa2UgPSBhd2FpdCBhcGkuZ2V0VXNlckxpa2UodGhpcy5pZFVzZXIsIHRoaXMucG9zdHMuX2lkKQogICAgICBpZiAobGlrZS5kYXRhICE9PSBudWxsKSB7CiAgICAgICAgdGhpcy5jb2xvciA9ICJyZWQiCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jb2xvciA9ICJncmV5IiAKICAgICAgfQogICAgfSwKICAgIGFzeW5jIGdldEFsbFBvc3QoKSB7CiAgICAgIGNvbnN0IHBvc3QgPSBhd2FpdCBhcGkuZ2V0UG9zdEJ5SWQodGhpcy5wb3N0cy5faWQpCiAgICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMudmFsaWRhdGVMaWtlKCkKICB9Cn0K"},{"version":3,"sources":["AppPost.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AppPost.vue","sourceRoot":"src/components/Post","sourcesContent":["<template>\n  <v-card max-height=\"800\" max-width=\"800\" class=\"mx-auto pa-3\">\n    <!-- -->\n    <v-row align=\"center\" class=\"spacer\" no-gutters>\n      <v-col cols=\"2\" sm=\"2\" md=\"1\">\n        <v-avatar :size=\"sizeAvatar\">\n          <v-img class=\"card-img\" :src=\"this.posts.idUser.image\"></v-img>\n        </v-avatar>\n      </v-col>\n        \n      <v-col>\n        <p></p>\n        <h4>{{this.posts.idUser.firstName}} {{this.posts.idUser.lastName}}</h4>\n        <p></p>\n      </v-col>\n\n      <v-col cols=\"2\">\n        <PostDelete :id=\"this.posts._id\"></PostDelete>\n      </v-col>\n    </v-row>\n\n    <!-- -->\n    <v-row>\n      <v-col sm=\"2\">\n        <div align=\"center\">\n          <v-img class=\"card-img\" :src=\"this.posts.imagePost\">hola</v-img>\n        </div>\n        <div>\n          {{this.posts.content}}\n        </div>\n      </v-col>\n    </v-row>\n    <!-- -->\n    <v-row>\n      <v-col cols=\"12\" md=\"8\" class=\"relative\">\n        <v-card-actions>\n          <v-btn color=\"#2c003e\" text small v-on:click=\"like\">\n            <v-icon left  :color=\"color\">{{svg.heart}}</v-icon>\n          </v-btn>\n          <LikeList :id=\"this.posts._id\">\n          </LikeList>\n          <CommentPanel :idUser=\"this.idUser\" :idPost=\"this.posts._id\"></CommentPanel>\n        </v-card-actions>\n      </v-col>\n    </v-row>\n  </v-card>\n</template>\n\n<script>\n\n  import api from '../../services/api'\n\n  import CommentPanel from '@/components/Comment/CommentPanel.vue'\n  import PostDelete from '@/components/Post/PostDelete.vue'\n  import LikeList from '@/components/Like/LikeList.vue'\n  import { mdiCommentMultipleOutline, mdiDeleteOutline, mdiHeart, mdiFileEdit } from '@mdi/js'\n\n  export default {\n    props: ['idUser', 'posts'],\n    components: {\n      CommentPanel,\n      PostDelete,\n      LikeList\n    },\n    data: () => ({\n      svg: {\n        heart: mdiHeart,\n        comment: mdiCommentMultipleOutline,\n        edit: mdiFileEdit,\n        delete: mdiDeleteOutline\n      },\n      message: {\n        avatar: 'Gold.png'\n      },\n      sizeAvatar: 50,\n      color: \"grey\"\n    }),\n    methods: {\n      async like() {\n        const like = await api.getUserLike(this.idUser, this.posts._id)\n        const likeagg = like.data\n        if(this.color === \"grey\") {\n          if(!likeagg) {\n            this.color = \"red\"\n            await api.createLike(this.idUser, this.posts._id)\n            await api.updateListInsignias(this.idUser, 'Like', 1)\n          } else if (likeagg && likeagg.status === 'I') {\n            this.color = \"red\"\n            await api.updateLike(likeagg.data._id, 'A')\n          }\n        } else if (this.color === \"red\" && likeagg.status === 'A') {\n          this.color = \"grey\"\n          await api.updateLike(likeagg.data._id, 'I')\n        }\n        this.$forceUpdate()\n      },\n      async validateLike() {\n        const like = await api.getUserLike(this.idUser, this.posts._id)\n        if (like.data !== null) {\n          this.color = \"red\"\n        } else {\n          this.color = \"grey\" \n        }\n      },\n      async getAllPost() {\n        const post = await api.getPostById(this.posts._id)\n       }\n    },\n    created() {\n      this.validateLike()\n    }\n  }\n</script>\n"]}]}